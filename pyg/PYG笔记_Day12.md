# PYG笔记_Day12
# 第1节课
## 1.1 今日知识点
```
FreeMaker 网页静态化
```
## 1.3课程内容
### 1.3.1 .今日目标
**视频信息**
```
视频名称: 01.今日目标
视频时长: 03:12
```
**小节内容**
```
目标1：掌握Freemarker常用的指令与内建函数
目标2：完成商品详细页的数据显示
目标3：完成商品详细页的动态效果
目标4：完成商品详细页读取SKU信息的业务逻辑
目标5：完成商品审核调用功能
```
### 1.3.2 .网页静态化简介
**视频信息**
```
视频名称: 02.网页静态化简介
视频时长: 08:44
```
**小节内容**
```
网页静态化技术和缓存技术的共同点都是为了减轻数据库的访问压力，但是具体的应用场景不同，缓存比较适合小规模的数据，而网页静态化比较适合大规模且相对变化不太频繁的数据。另外网页静态化还有利于SEO
```
**补充**
```
1) JSP 其实也是一种模板引擎
2) FreeMarker Template Language（FTL）
```
### 1.3.3 .入门小demo-1
**视频信息**
```
视频名称: 03.入门小demo-1
视频时长: 07:31
```
**小节内容**
```xml
1工程引入依赖
<dependency>
		<groupId>org.freemarker</groupId>
		<artifactId>freemarker</artifactId>
		<version>2.3.23</version>
</dependency>  
2)创建模板文件
    <html>
    <head>
        <meta charset="utf-8">
        <title>Freemarker入门小DEMO </title>
    </head>
    <body>
    <#--我只是一个注释，我不会有任何输出  -->
    ${name},你好。${message}
    </body>
    </html>
------
```
### 1.3.4 .入门小demo-2
**视频信息**
```
视频名称: 04.入门小demo-2
视频时长: 11:44
```
**小节内容**
```java
 //1.创建配置类
		Configuration configuration=new Configuration(Configuration.getVersion());
		//2.设置模板所在的目录 
		configuration.setDirectoryForTemplateLoading(new File("D:/pinyougou_work/freemarkerDemo/src/main/resources/"));
		//3.设置字符集
		configuration.setDefaultEncoding("utf-8");
		//4.加载模板
		Template template = configuration.getTemplate("test.ftl");
		//5.创建数据模型
		Map map=new HashMap();
		map.put("name", "张三 ");
		map.put("message", "欢迎来到神奇的品优购世界！");
		//6.创建Writer对象
		Writer out =new FileWriter(new File("d:\\test.html"));
		//7.输出
		template.process(map, out);
		//8.关闭Writer对象
		out.close();

```
### 1.3.5 .指令
**视频信息**
```
视频名称: 05.指令
视频时长: 15:31
```
**小节内容**

```html
assign指令
	<#assign linkman="周先生">
联系人：${linkman}

 include指令
 	<#include "head.ftl">
if
        <#if success=true>
  你已通过实名认证
<#else>  
  你未通过实名认证
</#if>
 list指令
      <#list goodsList as goods>
         ${goods_index+1} 商品名称： ${goods.name} 价格：${goods.price}<br>
      </#list>
```



**补充**
```
http://freemarker.foofun.cn/
```
### 1.3.6 .内建函数
**视频信息**
```
视频名称: 06.内建函数
视频时长: 11:18
```
**小节内容**
```
内建函数说白了就类似于我们Java 对象的函数, 比如java 字符串函数的length()
1)list?size 获取数组大小
2) 字符串转json
<#assign text="{'bank':'工商银行','account':'10101920201920212'}" />
	<#assign data=text?eval />
3) 日期格式化
	当前日期：${today?date} <br>
当前时间：${today?time} <br>   
当前日期+时间：${today?datetime} <br>        
日期格式化：  ${today?string("yyyy年MM月")}  // 参考java 字符串格式转换语法
```
**补充**
```

```
### 1.3.7 .空值处理运算符
**视频信息**
```
视频名称: 07.空值处理运算符
视频时长: 04:51
```
**小节内容**
```
判断某变量是否存在:“??”
<#if name??>
${aaa!''} 如果为空显示 ' '

freemarker中显示某对象使用${name}.
但如果name为null，freemarker就会报错。这时候需要判断参数是不是空，可以通过如下语句：
<#if name??>
……
</#if>
2：当然也可以通过设置默认值${name!''}来避免对象为空的错误。如果name为空，就以默认值（“!”后的字符）显示。

3：对象user，name为user的属性的情况，user，name都有可能为空，那么可以写成${(user.name)!''}表示user或者name为null，都显示为空。判断为空（注意有个小括号，很多人会忘记）
<#if (user.name)??>
……
</#if>
```
**补充**
```

```
### 1.3.8 .运算符
**视频信息**
```
视频名称: 08.运算符
视频时长: 03:57
```
**小节内容**
```
1.7.2逻辑运算符
逻辑运算符有如下几个: 
逻辑与:&& 
逻辑或:|| 
逻辑非:! 
逻辑运算符只能作用于布尔值,否则将产生错误 
1.7.3比较运算符
表达式中支持的比较运算符有如下几个: 
1  =或者==:判断两个值是否相等. 
2  !=:判断两个值是否不等. 
3  >或者gt:判断左边值是否大于右边值 
4  >=或者gte:判断左边值是否大于等于右边值 
5  <或者lt:判断左边值是否小于右边值 
6  <=或者lte:判断左边值是否小于等于右边值 
注意:  =和!=可以用于字符串,数值和日期来比较是否相等,但=和!=两边必须是相同类型的值,否则会产生错误,而且FreeMarker是精确比较,"x","x ","X"是不等的.其它的运行符可以作用于数字和日期,但不能作用于字符串,大部分的时候,使用gt等字母运算符代替>会有更好的效果,因为 FreeMarker会把>解释成FTL标签的结束字符,当然,也可以使用括号来避免这种情况,如:<#if (x>y)> 

```
****

```properties
1) FreeMarker是精确比较,"x","x ","X"是不等的
2) =和!=可以用于字符串,数值和日期来比较是否相等,但=和!=两边必须是相同类型的值,否则会产生错误
3) 使用gt等字母运算符代替>会有更好的效果
```
### 1.3.9 .工程搭建-1
**视频信息**
```
视频名称: 09.工程搭建-1
视频时长: 11:15
```
**小节内容**
```


```
**补充**
```

```
### 1.3.10 .工程搭建-2
**视频信息**
```
视频名称: 10.工程搭建-2
视频时长: 10:38
```
**小节内容**
```

```
**补充**
```

```
### 1.3.11 .工程搭建-3
**视频信息**
```
视频名称: 11.工程搭建-3
视频时长: 10:20
```
**小节内容**
```

```
**补充**
```

```
### 1.3.12 .商品详细页模板构建-1
**视频信息**
```
视频名称: 12.商品详细页模板构建-1
视频时长: 07:56
```
**小节内容**
```
此时我们的item.ftl内容较多，当我们编辑时不容易快速找到编辑的位置，所以我们将头部分拆分到head.ftl ,将尾部拆分到foot.ftl ,用include指令在item.ftl中引入 
item.ftl
foot.ftl
head.ftl
基本信息展示

```
**补充**
```

```
### 1.3.13 .商品详细页模板-2
**视频信息**
```
视频名称: 13.商品详细页模板-2
视频时长: 08:06
```
**小节内容**
```
图片列表
```
**补充**
```

```
### 1.3.14 .商品详细页模板-3
**视频信息**
```
视频名称: 14.商品详细页模板-3
视频时长: 05:09
```
**小节内容**
```
生成扩展属性列表
```
**补充**
```

```
### 1.3.15 .商品详细页模板-5
**视频信息**
```
视频名称: 15.商品详细页模板-5
视频时长: 05:05
```
**小节内容**
```
规格
```
**补充**
```

```
### 1.3.16 .商品详细页模板-6
**视频信息**
```
视频名称: 16.商品详细页模板-6
视频时长: 04:44
```
**小节内容**
```
面包屑
```
**补充**
```

```
### 1.3.17 .前端逻辑-数量增减
**视频信息**
```
视频名称: 17.前端逻辑-数量增减
视频时长: 07:19
```
**小节内容**
```

```
**补充**
```

```
### 1.3.18 .前端逻辑-规格选择
**视频信息**
```
视频名称: 18.前端逻辑-规格选择
视频时长: 11:14
```
**小节内容**
```

```
**补充**
```

```
### 1.3.19 .页面生成SKU变量
**视频信息**
```
视频名称: 19.页面生成SKU变量
视频时长: 12:56
```
**小节内容**
```

```
**补充**
```

```
### 1.3.20 .加载默认SKU
**视频信息**
```
视频名称: 20.加载默认SKU
视频时长: 07:33
```
**小节内容**
```

```
**补充**
```

```
### 1.3.21 .JS判断对象内容是否相等
**视频信息**
```
视频名称: 21.JS判断对象内容是否相等
视频时长: 07:25
```
**小节内容**
```

```
**补充**
```

```
### 1.3.22 .选择规格更新SKU
**视频信息**
```
视频名称: 22.选择规格更新SKU
视频时长: 05:11
```
**小节内容**
```

```
**补充**
```

```
### 1.3.23 .添加商品到购物车
**视频信息**
```
视频名称: 23.添加商品到购物车
视频时长: 03:13
```
**小节内容**
```

```
**补充**
```

```
### 1.3.24 .商品审核调用生成页面功能
**视频信息**
```
视频名称: 24.商品审核调用生成页面功能
视频时长: 04:03
```
**小节内容**
```

```
**补充**
```

```
### 1.3.25 .保存工程代码
**视频信息**
```
视频名称: 25.保存工程代码
视频时长: 05:10
```
**小节内容**
```

```
**补充**
```

```
### 1.3.26 .总结
**视频信息**
```
视频名称: 26.总结
视频时长: 04:04
```
**小节内容**
```

```
**补充**
```

```
